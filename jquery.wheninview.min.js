/*!
* jQuery whenInView; version: 1.1
* https://github.com/funkhaus/whenInView
* Copyright (c) 2016 Funkhaus; MIT license
*/
!function(a){a.fn.whenInView=function(b,c){var d,e,f=this;if("clear"==b)return f.off(c),this;"function"==typeof b&&(d=b,b={}),"function"==typeof c&&(e=c);var g=a.extend({className:"element-in-view",container:window,elementIn:null,elementOut:null,topOffset:0,bottomOffset:0,staggerInterval:0,removeWhenOut:!1,RAF:!0},b);g.elementIn=d||g.elementIn||function(a){a.each(function(a){var b=jQuery(this);setTimeout(function(){b.hasClass(g.className)||b.addClass(g.className)},a*g.staggerInterval)})},f.on("wheninview.enter",g.elementIn),g.elementOut=e||g.elementOut||function(a){g.removeWhenOut&&a.removeClass(g.className)},f.on("wheninview.exit",g.elementOut);var h=window.innerHeight||document.documentElement.clientHeight,i=jQuery(g.container).scrollTop(),j=!1,k=!1;String(g.topOffset).indexOf("%")>-1&&(j=parseFloat(g.topOffset.replace("%","")/100),g.topOffset=h*j),String(g.bottomOffset).indexOf("%")>-1&&(k=parseFloat(g.bottomOffset.replace("%","")/100),g.bottomOffset=h*k);var l=function(){f.each(function(){rect=this.getBoundingClientRect(),a(this).data("top",rect.top+i),a(this).data("height",rect.height)})};a(window).resize(function(){h=window.innerHeight||document.documentElement.clientHeight,j&&(g.topOffset=h*j),k&&(g.bottomOffset=h*k),l(),window.requestAnimationFrame(m)}),a(document).on("whenInView-recalculate",function(){l(),window.requestAnimationFrame(m)});var m=function(){var a=i+g.topOffset,b=i+h-g.bottomOffset,c=f.filter(function(){var c=jQuery(this).data("top"),d=jQuery(this).data("height");return c+d>a&&c<b&&!this.inView});c.length&&(c.each(function(){this.inView=!0}),c.trigger("wheninview.enter",c));var d=f.filter(function(){var c=jQuery(this).data("top"),d=jQuery(this).data("height");return 1==this.inView&&(c+d<a||c>b)});d.length&&(d.each(function(){this.inView=!1}),d.trigger("wheninview.exit",d))};return a(g.container).scroll(function(){i=jQuery(g.container).scrollTop(),g.RAF?window.requestAnimationFrame(m):m()}),l(),m(),this}}(jQuery);